Python doctest file to test generation of a WPS request from input arguments.
To run: python -m doctest wps_request1.txt
----------------------------------------------------------------------------------------------------------------

Import python modules
>>> from owslib.wps import WPSExecution, FeatureCollection, Query
>>> from owslib.etree import etree

Supply process input arguments
>>> wfsUrl = "http://igsarm-cida-gdp2.er.usgs.gov:8082/geoserver/wfs"
>>> query = Query("sample:CONUS_States", propertyNames=['the_geom',"STATE"], filters=["CONUS_States.508","CONUS_States.469"])
>>> featureCollection = FeatureCollection(wfsUrl, query)
>>> processid = 'gov.usgs.cida.gdp.wps.algorithm.FeatureWeightedGridStatisticsAlgorithm'
>>> inputs = [ ("FEATURE_ATTRIBUTE_NAME","STATE"),
...            ("DATASET_URI", "dods://igsarm-cida-thredds1.er.usgs.gov:8080/thredds/dodsC/dcp/conus_grid.w_meta.ncml"),
...            ("DATASET_ID", "ccsm3_a1b_tmax"),
...            ("DATASET_ID", "ccsm3_a1b_pr"),
...            ("DATASET_ID", "ccsm3_a1fi_tmax"),          
...            ("TIME_START","1960-01-01T00:00:00.000Z"),
...            ("TIME_END","1960-12-31T00:00:00.000Z"),
...            ("REQUIRE_FULL_COVERAGE","true"),
...            ("DELIMITER","COMMA"),
...            ("STATISTICS","MEAN"),
...            ("STATISTICS","MINIMUM"),
...            ("STATISTICS","MAXIMUM"),
...            ("STATISTICS","WEIGHT_SUM"),
...            ("STATISTICS","VARIANCE"),
...            ("STATISTICS","STD_DEV"),
...            ("STATISTICS","COUNT"),
...            ("GROUP_BY","STATISTIC"),
...            ("SUMMARIZE_TIMESTEP","true"),
...            ("SUMMARIZE_FEATURE_ATTRIBUTE","true"),
...            ("FEATURE_COLLECTION", featureCollection)
...           ]

# build XML request for WPS process execution
>>> execution = WPSExecution()
>>> requestElement = execution.buildRequest(processid, inputs)
>>> request = etree.tostring( requestElement )
>>> request
'<ns0:Execute service="WPS" version="1.0.0" xmlns:ows="http://www.opengis.net/ows/1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xsi:schemaLocation="http://www.opengis.net/wps/1.0.0 http://schemas.opengis.net/wps/1.0.0/wpsExecute_request.xsd" xmlns:ns0="http://www.opengis.net/wps/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">gov.usgs.cida.gdp.wps.algorithm.FeatureWeightedGridStatisticsAlgorithm</ows:Identifier><ns0:DataInputs><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">FEATURE_ATTRIBUTE_NAME</ows:Identifier><ns0:Data><ns0:LiteralData>STATE</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">DATASET_URI</ows:Identifier><ns0:Data><ns0:LiteralData>dods://igsarm-cida-thredds1.er.usgs.gov:8080/thredds/dodsC/dcp/conus_grid.w_meta.ncml</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">DATASET_ID</ows:Identifier><ns0:Data><ns0:LiteralData>ccsm3_a1b_tmax</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">DATASET_ID</ows:Identifier><ns0:Data><ns0:LiteralData>ccsm3_a1b_pr</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">DATASET_ID</ows:Identifier><ns0:Data><ns0:LiteralData>ccsm3_a1fi_tmax</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">TIME_START</ows:Identifier><ns0:Data><ns0:LiteralData>1960-01-01T00:00:00.000Z</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">TIME_END</ows:Identifier><ns0:Data><ns0:LiteralData>1960-12-31T00:00:00.000Z</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">REQUIRE_FULL_COVERAGE</ows:Identifier><ns0:Data><ns0:LiteralData>true</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">DELIMITER</ows:Identifier><ns0:Data><ns0:LiteralData>COMMA</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">STATISTICS</ows:Identifier><ns0:Data><ns0:LiteralData>MEAN</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">STATISTICS</ows:Identifier><ns0:Data><ns0:LiteralData>MINIMUM</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">STATISTICS</ows:Identifier><ns0:Data><ns0:LiteralData>MAXIMUM</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">STATISTICS</ows:Identifier><ns0:Data><ns0:LiteralData>WEIGHT_SUM</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">STATISTICS</ows:Identifier><ns0:Data><ns0:LiteralData>VARIANCE</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">STATISTICS</ows:Identifier><ns0:Data><ns0:LiteralData>STD_DEV</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">STATISTICS</ows:Identifier><ns0:Data><ns0:LiteralData>COUNT</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">GROUP_BY</ows:Identifier><ns0:Data><ns0:LiteralData>STATISTIC</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">SUMMARIZE_TIMESTEP</ows:Identifier><ns0:Data><ns0:LiteralData>true</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">SUMMARIZE_FEATURE_ATTRIBUTE</ows:Identifier><ns0:Data><ns0:LiteralData>true</ns0:LiteralData></ns0:Data></ns0:Input><ns0:Input><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">FEATURE_COLLECTION</ows:Identifier><ns0:Reference xlink:href="http://igsarm-cida-gdp2.er.usgs.gov:8082/geoserver/wfs"><ns0:Body><wfs:GetFeature outputFormat="text/xml; subtype=gml/3.1.1" service="WFS" version="1.1.0" xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs ../wfs/1.1.0/WFS.xsd" xmlns:wfs="http://www.opengis.net/wfs"><wfs:Query typeName="sample:CONUS_States"><wfs:PropertyName>the_geom</wfs:PropertyName><wfs:PropertyName>STATE</wfs:PropertyName><ogc:Filter xmlns:ogc="http://www.opengis.net/ogc"><ogc:GmlObjectId gml:id="CONUS_States.508" xmlns:gml="http://www.opengis.net/gml" /><ogc:GmlObjectId gml:id="CONUS_States.469" xmlns:gml="http://www.opengis.net/gml" /></ogc:Filter></wfs:Query></wfs:GetFeature></ns0:Body></ns0:Reference></ns0:Input></ns0:DataInputs><ns0:ResponseForm><ns0:ResponseDocument status="true" storeExecuteResponse="true"><ns0:Output asReference="true"><ows:Identifier xmlns:ows="http://www.opengis.net/ows/1.1">OUTPUT</ows:Identifier></ns0:Output></ns0:ResponseDocument></ns0:ResponseForm></ns0:Execute>'


